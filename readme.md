# web端原子操作

## 所有之前

原子操作开发完成之后，请将此处补全，内容应为该原子操作的使用注意事项，建议遵循“文档最少”原则。原子操作的使用场景以及完整的注释可以全部写进`use.snippet`代码片段中，开发人员直接通过工具添加到项目中（可以是多种场景的示例代码，开发人员把不用的内容再删掉就可以了），文档上只列出代码片段加不上的内容即可，比如一些注释和复杂的配置等。

## 开发步骤

直接clone或fork该工程，到自己本地开发即可，如有必要，完成后[发送给我](mailto:tao_qiufeng@126.com)或直接发送pr，完成代码审核后由我司发布新版本即可。

## 注意事项

- 如果是人为抛出异常，一定不要抛出 Error 类型之外的其它类型，比如不要抛出 `throw 'error message'`,而应该使用`throw new Error('error message')`
- 遵循函数式编程的一些基本原则，如非必要，请勿修改原子操作传入的引用类型的参数
- 如果候用第三方的库，请一定要保证其有amd和commonjs两个版本的代码，因为如果没有amd版本的代码，amd.json文件无法配置，且在开发阶段无法正常使用。
- 不到万不得已，不要使用类似jquery这种有全局引用的东西（注：jquery虽然有单独的模块版本，但有些第三方库是进行了全局的引用，在进行打包过程中多个jquery版本同时存在的情况下会错乱）。如果不得已引用了，请一定记住与打包有关，需要相应的项目单独处理打包引用的问题。

## 代码文件介绍(未列出的文件并非遗漏，保持模板文件不动就好)

- package.json

	description请使用简练的语句描述该原子操作的作用,author.name和author.name需要开发人员填写，用来追踪问题。

- index.ts

	具体的原子操作代码

- test.js

	单元测试代码，必不可缺

- use.snippet

	原子操作的使用代码，如果有多种使用场景，请尽量添加进来，开发人员通过工具添加到组件中后再删除多余无用的代码即可。如果该原子操作会在一个响应中调用多次，请使用自执行函数将其包括，避免在该响应中多次引用该原子操作时参数重名问题。一定要写完整的注释，如果需要大篇幅的注释，请将详细情况写入readme.md文件，在user.snippet中加上链接地址。

- amd.json

	amd方式加载的配置，作为为让开发环境可以使用dojo的amd的加载器正确加载该原子操作。
